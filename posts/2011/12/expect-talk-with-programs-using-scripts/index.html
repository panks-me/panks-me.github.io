<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Expect- talk with programs using scripts &#8211; Code Greenhorn</title>
<meta name="description" content="in search for the next abstraction">
<meta name="keywords" content="expect">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://panks.me/images/">
<meta name="twitter:title" content="Expect- talk with programs using scripts">
<meta name="twitter:description" content="in search for the next abstraction">
<meta name="twitter:creator" content="@pankajxdx">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Expect- talk with programs using scripts">
<meta property="og:description" content="in search for the next abstraction">
<meta property="og:url" content="http://panks.me/posts/2011/12/expect-talk-with-programs-using-scripts/">
<meta property="og:site_name" content="Code Greenhorn">





<link rel="canonical" href="http://panks.me/posts/2011/12/expect-talk-with-programs-using-scripts/">
<link href="http://panks.me/feed.xml" type="application/atom+xml" rel="alternate" title="Code Greenhorn Feed">
<link rel="author" href="http://plus.google.com/u/1/+PankajKumar42?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://panks.me/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://panks.me/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://panks.me/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://panks.me/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://panks.me/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://panks.me/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://panks.me/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://panks.me/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://panks.me">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://panks.me/images/avatar.png" alt="Pankaj Kumar photo" class="author-photo">
					<h4>Pankaj Kumar</h4>
					<p>A Pluviophile and Brogrammer</p>
				</li>
				<li><a href="http://panks.me/about/">More about me</a></li>
				
				<li>
					<a href="http://github.com/panks"><i class="icon-github"></i> GitHub</a>
				</li>
				<li>
					<a href="http://facebook.com/panks.cogito"><i class="icon-facebook"></i> Facebook</a>
				</li>
				<li>
					<a href="http://plus.google.com/u/1/+PankajKumar42"><i class="icon-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://twitter.com/pankajxdx"><i class="icon-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://linkedin.com/in/panks42"><i class="icon-linkedin"></i> LinkedIn</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://panks.me/posts/">List all posts</a></li>
				<li><a href="http://panks.me/tags/">Tag list</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://panks.me/posts/2011/12/expect-talk-with-programs-using-scripts/" rel="bookmark" title="Expect- talk with programs using scripts">Expect- talk with programs using scripts</a></h1>
        
        <h2>December 22, 2011</h2>
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p><br /></p>

<p>“OK! Now I can’t bear it anymore” - The condition after our endsems got over, as Insti bandwidth usages was on peak, one had no work other than running behind monkey (yeah we do have monkeys in our campus, all around us, so blessed we are, aren’t we?) to scare them to death or stick your bum to chair and do some time pass on internet.</p>

<p>But they say there is solution to every problem, here was it.<!--more--> We had access to our departmental network, which uses different proxy server, and since the LAN is common throughout the Insti we could connect to it, to get a little relief in internet speed, obviously everyone could do that, but you don’t expect students from Bio-tech people to type commands in terminal(they are already happy enough by looking at windows animation), until that’s the only option to save the human race.</p>

<p><img class="noborder" src="/images/posts/batmantux.png" /></p>

<p>But for lazzy bum like me it was painful to type the command to ssh to the departmental computers every time I login to my laptop. So I wrote a script to do that, obviously auto-run on system start.
But there was a catch, we had to input our login password while connecting to departmental computers and there was no way in linux terminal to supply the password automatically on request :(</p>

<p>When will google come to work?! I googled it and got to know about Expect, it is a toolkit for automating interactive programs, such as TELNET and FTP, written by Don Libes. It knows what can be expected from a program and what the correct response would be.
You can this page to get an idea of how expect works, it contains few basic examples: <a href="http://www.thegeekstuff.com/2010/10/expect-examples/">http://www.thegeekstuff.com/2010/10/expect-examples/</a></p>

<p>For more info you can click at: <a href="http://oreilly.com/catalog/expect/chapter/ch03.html">http://oreilly.com/catalog/expect/chapter/ch03.html</a></p>

<h2 id="edit">Edit</h2>
<p>Instead of running the script of system startup, you can ask network manager to do it for you, that way even if the network goes off while you are working and comes back again, you wold be reconnected. You can put your script in <strong>/etc/network/if-up.d</strong> on debian based distros and in <strong>/etc/NetworkManager/dispatcher.d/</strong> in fedora/redhat based distros, that would be executed when the network connects. If you plan to put more than one script you can specify the sequence by naming them
starting with a number between 1 and 99, they would be executed in ascending order, ex. <code>5-myscript.sh</code>, default is 50.</p>


      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://panks.me/tags/#expect" title="Pages tagged expect" class="tag">expect</a></span>
        <span><a href="http://panks.me/posts/2011/12/expect-talk-with-programs-using-scripts/" rel="bookmark" title="Expect- talk with programs using scripts">Expect- talk with programs using scripts</a> was published on <span class="entry-date date published updated"><time datetime="2011-12-22T07:07:00+05:30">December 22, 2011</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="http://panks.me/about/" title="About Pankaj Kumar">Pankaj Kumar</a></span></span>
        
        <div class="social-share">
          <ul class="socialcount socialcount-small inline-list">
            <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://panks.me/posts/2011/12/expect-talk-with-programs-using-scripts/" title="Share on Facebook"><span class="count"><i class="icon-facebook-sign"></i> Like</span></a></li>
            <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://panks.me/posts/2011/12/expect-talk-with-programs-using-scripts/" title="Share on Twitter"><span class="count"><i class="icon-twitter-sign"></i> Tweet</span></a></li>
            <li class="googleplus"><a href="https://plus.google.com/share?url=http://panks.me/posts/2011/12/expect-talk-with-programs-using-scripts/" title="Share on Google Plus"><span class="count"><i class="icon-google-plus-sign"></i> +1</span></a></li>
          </ul>
        </div><!-- /.social-share -->
        
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
</article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Pankaj Kumar

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://panks.me/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://panks.me/assets/js/scripts.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'panksblogtest'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>	        

</body>
</html>
